# ğŸ“„ READMEï¼ˆæ—¥æœ¬èªï¼‰

## ğŸŒ æ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€è«–æ–‡ã®pdfã‹ã‚‰æ®µè½ã‚’æŠ½å‡ºã—ã€SentenceTransformerã§ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã—ã€FAISSã‚’ä½¿ã£ã¦é«˜é€Ÿãªé¡ä¼¼æ–‡æ¤œç´¢ã‚’è¡Œã„ã¾ã™ã€‚å¤§é‡ã®è«–æ–‡ã‚’åŠ¹ç‡çš„ã‹ã¤æ©«æ–­çš„ã«æ¤œç´¢ã—ãŸã„ç ”ç©¶è€…ã‚„é–‹ç™ºè€…ã«æœ€é©ã§ã™ã€‚

## ğŸ” å‡¦ç†ãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TB
    A["PDFãƒ•ã‚©ãƒ«ãƒ€"] --> B["æ®µè½æŠ½å‡ºãƒ»æ•´å½¢â†’ paragraphs.jsonl"]
    B --> C["æ–°è¦IDã®æŠ½å‡º"]
    C --> D["åŸ‹ã‚è¾¼ã¿ç”Ÿæˆï¼ˆSentenceTransformerï¼‰"]
    D --> E["FAISSã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«è¿½åŠ "]
    D --> F["faiss_metadata.npz ã«ä¿å­˜"]
    E & F --> G["æ¤œç´¢UI / Notebook"]
    G --> H["ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¯ã‚¨ãƒªã‚’å…¥åŠ›"]
    H --> I["ã‚¯ã‚¨ãƒªã®åŸ‹ã‚è¾¼ã¿"]
    I --> J["FAISS é¡ä¼¼åº¦æ¤œç´¢"]
    J --> K["ä¸Šä½Kä»¶ã‚’è¡¨ç¤º"]
```

## ğŸ”§ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pip install faiss-cpu sentence-transformers ipywidgets numpy python-dotenv google.generativeai
```

### 2. `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€å¯¾è±¡ã¨ã™ã‚‹PDFãƒ•ã‚©ãƒ«ãƒ€ã¨ Gemini APIã‚­ãƒ¼ã‚’è¨˜å…¥

ä¾‹ï¼š

```env
PDF_FOLDER=G:/ãƒã‚¤ãƒ‰ãƒ©ã‚¤ãƒ–/zoterosync
GEMINI_API_KEY=your-gemini-api-key-here
```

### 3. PDFæŠ½å‡ºã‚’å®Ÿè¡Œ

`extract.ipynb`ã‚’Jupyter Notebookã§é–‹ãã€æŒ‡å®šã—ãŸPDFãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰æ®µè½ã‚’æŠ½å‡ºã—ã€`paragraphs.jsonl`ã‚’ä½œæˆã—ã¾ã™ã€‚

### 4. åŸ‹ã‚è¾¼ã¿ & FAISSæ§‹ç¯‰

`create_faiss.ipynb`ã‚’é–‹ãã€`paragraphs.jsonl`ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¦åŸ‹ã‚è¾¼ã¿ã‚’ç”Ÿæˆã€å·®åˆ†ã¿ã§ `faiss_index.bin` ã‚„ `faiss_metadata.npz`ã‚’ä½œæˆã—ã¾ã™ã€‚

### 5. Notebookã§æ¤œç´¢UIã‚’èµ·å‹•

`search.ipynb`ã‚’ Jupyter Notebook ã§é–‹ãã€ã‚¯ã‚¨ãƒªã‚’å…¥åŠ›ã—ã¦æ®µè½ã‚’æ¤œç´¢ã—ã¾ã™ã€‚
Gemini APIã‚’ä½¿ç”¨ã™ã‚‹å ´åˆç„¡æ–™æ ã‚’è¶…ãˆã‚‹ã¨èª²é‡‘ã•ã‚Œã¾ã™ã®ã§ã”æ³¨æ„ãã ã•ã„ã€‚

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

- `paragraphs.jsonl`: æŠ½å‡ºã•ã‚ŒãŸæ®µè½ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«
- `faiss_index.bin`: FAISSã®é¡ä¼¼æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
- `faiss_metadata.npz`: æ®µè½ãƒ†ã‚­ã‚¹ãƒˆã¨ãƒ¡ã‚¿æƒ…å ±ï¼ˆIDã€ã‚¿ã‚¤ãƒˆãƒ«ã€ãƒšãƒ¼ã‚¸ãªã©ï¼‰
- `extract.ipynb`: å¯¾è±¡ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ã™ã¹ã¦ã®pdfã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡ºã™ã‚‹Notebook
- `create_faiss.ipynb`: `paragraphs.jsonl`ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã€FAISSæ§‹ç¯‰ã‚’è¡Œã†Notebook
- `search.ipynb`: Jupyterãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢GUI
